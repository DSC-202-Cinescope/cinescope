<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Genre</title>
</head>
<body>
    <h2>Cinescope Genre Viewer</h2>
    <form method="POST">
        <select name="genre">
            {% for genre in genres %}
                <option value="{{ genre }}" {% if selected_genre == genre %}selected{% endif %}>{{ genre }}</option>
            {% endfor %}
        </select>
        <button type="submit">Submit</button>
    </form>

    {% if selected_genre %}
        <p>You selected: <strong>{{ selected_genre }}</strong></p>
        {% if genre_id %}
        <p>Genre ID: <strong>{{ genre_id }}</strong></p>
        {% else %}
        <p>Genre ID not found.</p>
        {% endif %}
    {% endif %}

    {% if movies %}
        <h3>Top 5 Movies</h3>
        <table border="1">
            <tr>
                <th>Title</th>
                <th>Viewer Score</th>
                <th>Vote Average</th>
                <th>Vote Classification</th>
                <th>Vote Count</th>
                <th>Top Cast</th>
                <th>Plot Description</th>  <!-- new column -->
            </tr>
            {% for movie in movies %}
            <tr>
                <td>{{ movie[0] }}</td>
                <td>{{ movie[1] }}</td>
                <td>{{ movie[2] }}</td>
                <td>{{ movie[3] }}</td>
                <td>{{ movie[4] }}</td>
                <td>{{ movie[5] }}</td>
                <td>{{ movie[6] }}</td>  <!-- new column data -->
            </tr>
            {% endfor %}
        </table>
    {% endif %}
</body>
</html>